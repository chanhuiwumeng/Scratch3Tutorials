---
prev:
  text: 入门游戏
  link: /基础游戏/入门游戏.md
next:
  text: 音乐
  link: /扩充功能/音乐.md
---

# 进阶游戏 🕹️

## 飞机大战

::: tip 故事背景：
外星人入侵地球！
为了维护人类的和平！
太空之间的飞机大战正式开启.....
:::

### 程序原理

删除预设的猫咪角色，在角色选择中上传太空背景角色

![](/Snipaste_2023-10-24_10-07-48.png)

编辑背景的内容:

- 点击绿旗的时候，移动到(0,900)(背景是一个很长的角色，背景的底边和舞台的底边重合)
- 移动到最后面
- 使用重复执行，每次重复执行的时候
  - 将 y 坐标增加-2
  - 判断如果 y 坐标小于-540
    - 将 y 坐标设置为 900 (移动到最下边后在回到最顶点位置)

![](/Snipaste_2023-10-24_10-11-38.png)

角色中上传,开始按钮的角色:

- 绿旗被点击的时候，显示角色(后边会隐藏)
- 移动到(0,-20)
- 重复执行，每次重复执行的时候
  - 判断如果碰到鼠标：
    - 将颜色的特效设定为 50
  - 否则将颜色的特效设定为 0

![](/Snipaste_2023-10-24_10-15-20.png)

当角色被点击的时候，广播加载的信息，并隐藏角色

![](/Snipaste_2023-10-24_10-17-30.png)

绘制一个 Loading 的角色，复制造型后边加点

![](/Snipaste_2023-10-24_10-16-31.png)

编辑加载的角色内容:

- 当点击绿旗的时候，隐藏角色
- 移动到 (0,-20)

![](/Snipaste_2023-10-24_10-19-57.png)

当接收到加载:

- 显示角色
- 更换为造型 1
- 重复执行 9 次,每次重复执行的时候
  - 等待 0.1 秒
  - 下一个造型
- 重复执行以后，广播开始游戏
- 隐藏角色

![](/Snipaste_2023-10-24_10-22-35.png)

上传 boss 飞机:

- 点击绿旗的时候，移动到(0,100)
- 当接收到加载的时候
  - 在 0.5 秒内滑行到(0,180)
- 当接收到加载
  - 将虚像特效设定为 0
  - 重复执行 10 次，每次重复执行的时候
  - 将虚像特效增加 10

![](/Snipaste_2023-10-24_10-23-51.png)

上传玩家飞机的角色,大小设定为 35:

![](/Snipaste_2023-10-24_10-26-53.png)

完成以后就是游戏的启动界面:

![](/leidian-01.gif)

玩家飞机的操作控制，当接收到开始游戏:

- 重复执行,每次重复执行的时候
  - 如果按下向上键，那么
  - 将 y 坐标增加 8
  - 如果 y 坐标大于 160
    - 将 y 坐标增加-8
  - 如果按下向下键，那么
  - 将 y 坐标增加-8
  - 如果 y 坐标小于-160
    - 将 y 坐标增加 8
  - 如果按下向左键，那么
  - 将 x 坐标增加-8
  - 如果 x 坐标小于-220
    - 将 x 坐标增加 8
  - 如果按下向右键，那么
  - 将 x 坐标增加 8
  - 如果 x 坐标大于 220
    - 将 x 坐标增加-8

![](/Snipaste_2023-10-24_10-34-39.png)

完成以后的效果:

![](/leidian-02.gif)

上传玩家子弹的角色:

- 在玩家飞机中添加，当接收到开始游戏
  - 重复执行，每次重复执行的时候 + 判断如果按下空格键 + 等待 0.08 秒 + 克隆玩家子弹
    ![](/Snipaste_2023-10-24_10-38-24.png)

玩家子弹内容:

- 点击绿旗的时候隐藏
- 作为克隆体启动的时候，显示
- 移动到玩家飞机的位置
- 将 y 坐标增加 20(子弹从飞机头部出来)
- 重复执行到,y 坐标大于 179,重复执行到
  - y 坐标增加 8
- 重复结束以后删除克隆体

完成效果展示:

![](/leidian-03.gif)

上传小型飞机，早造型页面上传其他四个小型飞机和敌机爆炸的造型:

![](/Snipaste_2023-10-24_10-43-26.png)

编辑小型飞机的程序:

- 点击绿旗的时候，隐藏角色
- 当接收到开始游戏，重复执行，每次重复执行的时候
  - 等待 1 秒
  - 克隆自己

![](/Snipaste_2023-10-24_10-46-52.png)

作为克隆体启动的时候:

- 新建变量我的得分
- 显示
- 换成 1-5 的随机数造型
- 移动到 x(-200 和 200 之间的随机数),y(180)
- 重复执行到(y 坐标小于-179),每次重复执行的时候
  - 将 y 坐标增加-4
  - 判断，如果碰到玩家子弹或者玩家飞机
    - 飞机爆炸(自制积木)
- 重复执行结束以后，删除克隆体(飞机到舞台的底边，删除克隆体)
- 新增飞机爆炸的自制积木
  - 换成飞机爆炸的造型
  - 将我的得分增加 2
  - 等待 0.2 秒
  - 删除此克隆体

![](/Snipaste_2023-10-24_10-52-11.png)

上传敌机子弹,大小设定为 40:

- 点击绿旗的时候，隐藏角色
- 在小型敌机的角色中增加:
  - 作为克隆体启动的时候 + 重复执行(1-2)的随机数次，每次重复执行的时候 + 等待 0.2-1 之间的随机数 + 新增变量 x 和 y (存储小型飞机的坐标，给小型敌机的子弹使用) + 将 x 变量设置为 x 坐标 + 将 y 变量设置为 y 坐标 + 克隆敌机子弹
    ![](/Snipaste_2023-10-24_10-56-50.png)

小型敌机的子弹:

- 做为克隆体启动
- 显示
- 将颜色特效设定为 50
- 移动到 x 和 y 变量
- 将 y 坐标增加-10
- 重复执行到,碰到舞台边缘
- 判断，如果碰到玩家飞机
  - 删除此克隆体
- 将 y 坐标增加-6
- 重复结束以后，删除次克隆体

![](/Snipaste_2023-10-24_11-22-28.png)

完成以后的效果:

![](/leidian-04.gif)

上传大型敌机,在造型页面上传其他两个大型敌机和敌机爆炸的造型:

![](/Snipaste_2023-10-25_14-45-40.png)

点击绿旗的时候:

- 隐藏角色
- 当接收到开始游戏
- 重复执行，每次重复执行的时候
  - 等待 3 秒
  - 克隆自己

![](/Snipaste_2023-10-25_14-46-33.png)

当作为克隆体启动的时候:

- 重复执行在 2~3 之间的随机数,每次重复执行的时候
  - 等待在 0.2~1 之间的随机数秒
  - 将 x 设置为 x 坐标
  - 将 y 设置为 y 坐标
  - 克隆敌机子弹
    第二个当克隆体启动:
- 新建血条变量\_血条(私有变量)
- 将血条设置为 12
- 显示角色
- 换成 1~3 之间的随机数造型
- 移动到 x(-180~180)之间的随机数,y(180)
- 重复执行到,y 坐标小于-179,每次重复执行的时候
  - 判断\_血条大于 0
    - 将 y 坐标增加-3
    - 如果碰到玩家子弹或者玩家飞机
      - 特效(碰到的特效)
      - 将\_血条增加-1
  - 否则，执行飞机爆炸的特效
- 重复结束以后，删除克隆体

![](/Snipaste_2023-10-25_14-48-37.png)

新建名称为特效的自制积木和名称为飞机爆炸的自制积木:

![](/Snipaste_2023-10-25_14-57-44.png)

上传生命角色,修改大型敌机的内容:

![](/Snipaste_2023-10-25_15-04-48.png)

编辑生命角色的程序:

- 点击绿旗的时候隐藏角色
- 当接收到生成生命
  - 等待 1 秒
  - 克隆自己
- 作为克隆体启动时候
  - 显示角色
  - 移动到 x(-180~180 之间的随机数),y(180)
  - 重复执行到 y 坐标小于-179,每次重复执行的时候
    - 将 y 坐标增加-3
  - 判断如果碰到玩家飞机
    - 将命数增加 1
    - 删除此克隆体
- 重复结束以后，删除此克隆体

![](/Snipaste_2023-10-25_15-11-10.png)

当接收到克隆体启动后:

- 重复执行，每次重复执行以后
  - 重复执行 15 次
  - 将 x 坐标增加-3
  - 重复执行 15 次
  - 将 x 坐标增加 3

![](/Snipaste_2023-10-25_15-12-54.png)

<b>多技能释放:</b>

修改大型敌机的程序:

![](/Snipaste_2023-10-25_15-16-14.png)

![](/Snipaste_2023-10-25_15-16-56.png)

上传导弹角色,程序和生命角色类似:

![](/Snipaste_2023-10-25_15-17-35.png)

上传子弹等级的角色:

![](/Snipaste_2023-10-25_15-18-21.png)

<b>加强子弹:</b>

![](/Snipaste_2023-10-25_15-19-34.png)

完成以后的效果展示:

![](/leidian-06.gif)

修改 Boss 造型，造型页面上传爆炸造型:

![](/Snipaste_2023-10-25_15-22-30.png)

当绿旗被点击以后:

- 将得分设置为 0
- 移动到(0,0)
- 换成 boss 造型
- 重复执行，每次重复执行
  - 判断如果得分大于 20
    - 广播 boss 登场的信息
  - 停止这个脚本
- 当接收到加载
  - 在 0.5 秒移动滑行到(0,180)
- 当接收到加载
  - 将虚像设定位 0
  - 重复执行 10 次
  - 将虚像增特效加 10
- 当接收到 boss 登场
  - 等待 3 秒
  - 在 1 秒内滑行到(0,80)
  - 重复执行 5~8 次，每次重复执行的时候
  - 等待 0.1 秒
  - 克隆 boss 子弹
- 当接收到 Boss 登场
  - 等待 3 秒
  - 重复执行 10 次
    - 将虚像特效增加-10

![](/Snipaste_2023-10-25_15-23-42.png)

上传子弹造型，改名为 Boss 子弹,程序和敌机子弹类似:

![](/Snipaste_2023-10-25_15-34-31.png)

<b>Boss 战斗:</b>

![](/Snipaste_2023-10-25_15-36-14.png)

当接收到 Boss 战斗:

- 重复执行，每次重复执行的时候
  - 重复执行 5~8 次
  - 等待 0.1 秒
  - 克隆 boss 子弹
- 等待 2 秒

![](/Snipaste_2023-10-25_15-39-24.png)

当接收到 Boss 战斗:

- 将\_血条(boss 私有变量)设置为 150
- 重复执行，每次重复执行的时候
  - 判断如果\_血条大于 0
    - 判断如果碰到加强子弹或者碰到玩家子弹
    - 执行特效自制积木
    - 将\_血条增加-1
  - 否则执行爆炸的自制积木

![](/Snipaste_2023-10-25_15-42-16.png)

两个自制积木:

![](/Snipaste_2023-10-25_15-42-43.png)

<b>游戏结束:</b>

玩家飞机的程序:

![](/Snipaste_2023-10-25_15-44-05.png)

上传 gameover 角色:

![](/Snipaste_2023-10-25_15-45-07.png)

<b>添加声音,声音的素材:</b>

![](/Snipaste_2023-10-26_10-33-51.png)

开始按钮添加:

![](/Snipaste_2023-10-26_10-34-37.png)

玩家飞机:

![](/Snipaste_2023-10-26_10-35-13.png)

boss 飞机:

![](/Snipaste_2023-10-26_10-35-46.png)

boss 飞机爆炸:

![](/Snipaste_2023-10-26_10-36-08.png)

小型敌机爆炸:

![](/Snipaste_2023-10-26_10-36-53.png)

大型敌机:

![](/Snipaste_2023-10-26_10-37-37.png)

## 植物大战僵尸 🎆

## 坦克大战

## 马里奥

## 贪吃蛇

## 俄罗斯方块(角色与背景)

::: tip 故事背景：
小时候最爱的小游戏，俄罗斯方块.....
:::

![](/eluosiclock-01.gif)

### 程序原理

俄罗斯方块是一个典型的<b>列表游戏</b>，虽然眼睛所见的是<b>方块</b>。但是背后都是列表所组成，距离来说，如果
游戏的长方形背景是 12X17 个方块组成，对应的列表就是一个有 17 个项目，每一个项目又有 12 个子项目，每一个子项目为 0 的二维列表组成。

![](/tetris-1-01.webp)

如果在背景加入<b>方块</b>,就等同于在列表中加入<b>不为 0</b>的子项目。透过这些不为 0 的子项目，就能换算出方块在背景中的长相。

![](/tetris-1-02.webp)

如果同一行的方块满足了需要消除，就表示改行的<b>子项目全部不为 0</b>,透过清单的操作(删除这一行，添加新的一行)，就能够消除改行的方块了.

![](/tetris-1-03.webp)

<b>俄罗斯方块游戏设计重点</b>

由于 Scratch 对于列表的操作不太友善，为了避免大量的列表处理功能，先约定以下规则:

- 使用<b>实体的方块</b>角色，透过键盘或者鼠标，操控方块的<b>位置以及旋转方向</b>
- 方块<b>放置</b>后(碰到别的方块停止，到达底部停止)，使用<b>画笔将方块图章到舞台上</b>
- 使用背景方块的角色侦测舞台的颜色，，透过颜色产生列表
- 透过列表判断是否要消除某一行，消除后在使用列表重新绘制舞台上的方块
- 当列表的第一行有元素，表示改游戏结束

#### 绘制角色(背景格子)

新建一个名称为<b>背景格子</b>的角色，绘制一个名称为 bg 的造型，使用淡灰色，放入一个 19x19 的正方形，对齐画布的中心

![](/Snipaste_2024-01-04_10-30-42.png)

复制 bg 造型，产生七个名字依次为[shape1~shape7]的造型，并将 7 个造型修改成不同的颜色

![](/tetris-1-05.webp)

#### 绘制角色(方块造型)

新建一个名称为方块造型的角色，绘制第一个名称为 shape1 的造型，接着复制背景格子的角色 shape1 正方形造型，粘贴到方块造型的 shape1 造型中，运用正方形组合成 T 形的俄罗斯方块。

注意: T 形方块组合的宽度是 59x39(19x3=57,加上两个中间的间隔 57+2=59,19x2=38,加上中间的间隔 38+1=39),中间的方块对齐画布的中心

![](/Snipaste_2024-01-04_10-35-08.png)

按照 T 形的操作，依次复制其他的方块造型

![](/Snipaste_2024-01-04_10-38-12.png)

![](/Snipaste_2024-01-04_10-39-02.png)

![](/Snipaste_2024-01-04_10-39-24.png)

![](/Snipaste_2024-01-04_10-39-49.png)

![](/Snipaste_2024-01-04_10-40-06.png)

![](/Snipaste_2024-01-04_10-41-08.png)

#### 绘制角色(背景外框)

![](/Snipaste_2024-01-04_10-42-08.png)

#### 绘制角色(底边框)

![](/Snipaste_2024-01-04_10-42-31.png)

![](/Snipaste_2024-01-04_10-43-10.png)

点击背景方块的造型，编辑程序:

- 新建名称为 bg_x 的变量(记录背景角色的 x 坐标，方便其他角色使用)
- 新建一个名称为 bg 的列表，负责记录俄罗斯方块的整体位置
- 点击绿旗以后，使用重复执行将 17 组 12 个 0 的[000000000000]文字,加入 bg 列表中(高度是 17 格，宽度是 12 格)

![](/Snipaste_2024-01-04_10-46-48.png)

新建一个名称为画背景的自制积木，勾选运行时不刷新屏幕:

- 显示角色(后边会隐藏角色)
- 添加画笔的扩充功能，新增 x 和 y 的变量
- 清除所有的笔记
- 将背景方块定位在(bg_x,160)的坐标位置
- 设置变量 y 为 1,使用重复 17 次，每次重复执行:
  - 设定变量 x 为 1，坐标设定 x 为 bg_x
  - 重复执行 12 次每次重复执行的时候读取 bg 列表对应的文字
  - 如果读取到的是 0 就更换造型为 bg(默认的方块)
  - 如果读取到时其他的数子，更换为 shape+数字的造型(这也是所有的造型名称使用 shape1~shape7 的原因)
  - 更换造型后，使用画笔的图章功能
    - 重复结束以后 x 增加 1，y 增加 1
- 重复结束以后隐藏角色

![](/Snipaste_2024-01-04_10-53-42.png)

背景边框

![](/Snipaste_2024-01-04_10-54-24.png)

下边界线

![](/Snipaste_2024-01-04_10-54-44.png)

## 俄罗斯方块(移动与碰撞)

::: tip 故事背景：
小时候最爱的小游戏，俄罗斯方块.....
:::

### 程序原理

![](/Snipaste_2024-01-04_10-57-44.png)

完成以后，可以看到控制方块的移动了，但是方块可以超出边界

![](/tetris-2-02.gif)

新建一个名称为修正左右的自制积木，

![](/Snipaste_2024-01-04_11-00-17.png)

新增一个名称为修正旋转的自制积木

![](/Snipaste_2024-01-04_11-02-28.png)

新增一个名称是修正下边界的自制积木

![](/Snipaste_2024-01-04_11-03-29.png)

如果要侦测<b>已经放置的方块</b>。可以使用方块和背景不同的颜色进行区分，通过<b>碰到颜色</b>的功能
,碰到颜色就使用修正左右或者修正下边界

新建一个名称为碰到颜色的自制积木，勾选运行时不刷新屏幕，添加一个名称为 color 的参数，color 预设为 0,如果碰到其他的颜色就将 color 改为 1

![](/Snipaste_2024-01-04_11-07-10.png)

修改背景格子的程序进行测试

![](/Snipaste_2024-01-04_11-07-42.png)

完成以后的效果

![](/tetris-2-12.gif)

## 俄罗斯方块(放置方块)

::: tip 故事背景：
小时候最爱的小游戏，俄罗斯方块.....
:::

点击方块造型角色，在修正下边界的程序里，添加:

- 图章： 将目前的方块造型复制在舞台中
- 隐藏: 隐藏方块本体，避免重复
- 广播信息放置： 告诉背景格子角色，方块已经放置

![](/Snipaste_2024-01-04_11-11-37.png)

点击背景格子的角色，新增一个名称为<b>碰到颜色</b>的自制积木。勾选运行时不刷新屏幕，根据不同的方块造型设定 color 的值。

![](/Snipaste_2024-01-04_11-13-19.png)

继续背景格子的角色中，新增一个名称为<b>侦测颜色转换列表</b>的自制积木，勾选运行时不刷新屏幕，这个函数会
通过背景格子角色的每次移动，侦测碰到的颜色，并且根据碰到颜色来更新背景 bg 清单的内容

- 将背景格子的橘色定位在左上角
- 删除 bg 列表的项目
- 重复 17 次，每次重复执行的时候
  - 删除 bg_item 的列表内容(需要新增一个名称为 bg_item 的列表)
  - 重复 12 次 每次重复都侦测颜色，将对应的数组存入到 bg_item 中
  - 12 次重复结束以后，将 bg_item 加入到 bg 列表(侦测一行的 12 个格子的颜色替换 bg 列表中的 12 个 0)

![](/Snipaste_2024-01-04_11-13-56.png)

![](/tetris-3-05.webp)

在背景格子的角色中，在画背景的函数后方加入广播 star 和光标放置的信息

![](/Snipaste_2024-01-04_11-21-30.png)

在方块造型中添加如下程序:

![](/Snipaste_2024-01-04_11-22-43.png)

完成以后的效果

![](/tetris-3-08.gif)

## 俄罗斯方块(消除方块，侦测游戏结束)

::: tip 故事背景：
小时候最爱的小游戏，俄罗斯方块.....
:::

点击背景格子的角色，修改<b>侦测颜色转化列表</b>，判断如果 bg_item 列表有 0,才将其添加到 bg 列表，复制就是添加纯粹的 12 个 0 的文字到列表的第一项

加入得分的变量，添加消除后的音效

![](/Snipaste_2024-01-04_15-06-54.png)

最后设定点击绿旗的时候，得分为 0

![](/Snipaste_2024-01-04_15-08-11.png)

<b>修正连续按压键盘的问题</b>

由于方块在下落的时候，使用者可能会连续按压键盘，当连续按压键盘的事件发生的时候，就可能会发生<b>正在侦测颜色，但是
方块却开始移动了</b>的状况，为了避免这一情况的发生，可以加入一个 stop 变量进行判断

点击方块的角色，在接收到 start 信息中加入 stop 变量等于 0

![](/Snipaste_2024-01-04_15-10-58.png)

修改下边界的函数，判断 stop 为 0 的时候才开始进行放置的动作，放置的时候将 stop 改为 1,避免连续按压的情况发生。

![](/Snipaste_2024-01-04_15-12-15.png)

<b>判断游戏结束</b>

点击背景格子的角色，修改接受到放置信息，判断如果 bg 列表的第一个项目中如果不出现 0 的内容，就发送 gameover 的信息
，当接受到 gameover 就停止所有的重复

![](/Snipaste_2024-01-04_15-13-57.png)

完成以后的效果!

![](/tetris-4-07.gif)

## 俄罗斯方块(下一个形状)

::: tip 故事背景：
小时候最爱的小游戏，俄罗斯方块.....
:::

在造型区域复制方块造型的角色，作为下一个造型的使用

![](/Snipaste_2024-01-04_15-17-01.png)

编辑方块造型 2 的程序，新增一个名称为 shape_next 的变量，再点击绿旗的时候设定为随机数 1~7,放置在舞台的特定的位置，当接收到准备形状的时候再次设定为 1~7 的随机数

![](/Snipaste_2024-01-04_15-19-13.png)

点击方块造型 1 的角色，在接收到 start 的信息后，添加变量 shape_now 为 shape_next(新添加一个名称为 shape_now 的变量),并且广播准备形状的信息，
将造型更换为 shape_now 的数值

![](/Snipaste_2024-01-04_15-21-23.png)

点击绿旗的时候，就开始准备下一个形状了

![](/tetris-5-05.webp)

<b>加入按钮，支援动作操作</b>

使用图形绘制工具，新建一个旋转的角色，尺寸为 50x50.对齐画布的中心

![](/Snipaste_2024-01-04_15-24-28.png)

编辑程序

![](/Snipaste_2024-01-04_15-24-41.png)

在绘画向右，向左，向上的按钮，使用圆形的按钮制作，尺寸为 50x50

![](/Snipaste_2024-01-04_15-25-43.png)

![](/Snipaste_2024-01-04_15-25-58.png)

使用矩形工具和变形工具绘制白色的等边三角形.

![](/huizhisanjiaoxing.gif)

分别编辑程序:

![](/Snipaste_2024-01-04_15-26-20.png)

![](/Snipaste_2024-01-04_15-26-46.png)

![](/Snipaste_2024-01-04_15-27-04.png)

最终完成的效果！

![](/tetris-5-15.gif)

## 华容道

## 疯狂出租车

## 最强小游戏
